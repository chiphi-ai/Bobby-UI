<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Phi AI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <style>
    /* Page-specific overrides if needed */
    .hero-section {
      text-align: center;
      padding: var(--space-4xl) 0;
    }
    
    .hero-title {
      font-size: var(--font-size-4xl);
      font-weight: var(--font-weight-bold);
      letter-spacing: -1px;
      margin-bottom: var(--space-lg);
      background: linear-gradient(135deg, var(--accent) 0%, #5856D6 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .hero-subtitle {
      font-size: var(--font-size-lg);
      color: var(--text-secondary);
      margin-bottom: var(--space-2xl);
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .status-pill {
      display: inline-flex;
      align-items: center;
      gap: var(--space-sm);
      padding: var(--space-sm) var(--space-md);
      border-radius: var(--border-radius-full);
      background: var(--bg-secondary);
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }
    
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--success);
    }
    
    .cta-row {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-md);
      justify-content: center;
      margin: var(--space-2xl) 0;
    }
  </style>
</head>
<body>
  <!-- Animated Wave Background -->
  <div class="bg-waves{% if waves_debug %} debug-mode{% endif %}" aria-hidden="true"></div>
  {% if waves_debug %}
  <div class="waves-debug-badge">ðŸŒŠ WAVES ON</div>
  {% endif %}
  
  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <div class="header-inner">
        <a href="{% if logged_in %}{{ url_for('account_home') }}{% else %}{{ url_for('index') }}{% endif %}" class="header-brand">
          <img src="{{ url_for('static', filename='images/logo.png.png') }}" alt="Phi AI" class="header-logo">
        </a>
        <div class="status-pill">
          <span class="status-dot"></span>
          System Active
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Flash Messages -->
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="alert alert-info" id="toast">
            <strong>System Message</strong><br>
            {% for m in messages %}{{ m }}{% if not loop.last %}<br>{% endif %}{% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <!-- Hero Section -->
      <section class="hero-section glow enter">
        <h1 class="hero-title">Turn a meeting into a named script, automatically.</h1>
        <p class="hero-subtitle">
          Record or upload meeting audio directly through the website. Phi AI automatically transcribes it, matches voices to enrolled speakers,
          and emails the right people. No manual steps. No chaos. Just clean output.
        </p>

        <div class="cta-row">
          {% if logged_in %}
            <a class="btn btn-primary" href="{{ url_for('record_meeting') }}">Record Meeting</a>
            <a class="btn btn-secondary" href="{{ url_for('enroll_get') }}">Voice Enrollment</a>
            <a class="btn btn-secondary" href="{{ url_for('account_get') }}">Account Settings</a>
            <a class="btn btn-subtle" href="{{ url_for('logout') }}">Logout</a>
          {% else %}
            <a class="btn btn-primary" href="{{ url_for('signup_get') }}">Create Account</a>
            <a class="btn btn-secondary" href="{{ url_for('login_get') }}">Login</a>
          {% endif %}
        </div>
      </section>

      <!-- Info Card -->
      <section class="section">
        <div class="card">
          <div class="card-body">
            <h3 class="card-title">Getting Started</h3>
            <p class="text-muted">
              First, <a href="{{ url_for('enroll_get') }}">enroll your voice</a> so the system can recognize you in meetings. 
              Then use <a href="{{ url_for('record_meeting') }}">Record Meeting</a> to process your audio files automatically.
            </p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-inner">
        <p>&copy; 2026 Phi AI. All rights reserved.</p>
        <p style="margin-top: var(--space-sm); font-size: var(--font-size-sm); color: var(--text-secondary);">189 Vassar St, Cambridge, MA 02139</p>
      </div>
    </footer>
  </div>

  <script>
    // Auto-hide flash messages
    const toast = document.getElementById("toast");
    if (toast) {
      setTimeout(() => {
        toast.style.opacity = "0";
        toast.style.transition = "opacity 0.3s ease";
        setTimeout(() => toast.remove(), 300);
      }, 6500);
    }
  </script>
</body>
</html>
